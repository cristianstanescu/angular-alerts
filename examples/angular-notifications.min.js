/**
 * angular-notifications - AngularJS plugin to show notifications. Has a directive for positioning the notifications and works out of the box with Rails
 * @author Cristian StÄƒnescu
 * @version v1.0.0
 * @link https://github.com/cristianstanescu/angular-notifications
 * @license MIT
 */
angular.module("angular-notifications",[]).factory("notificationsService",function(){function e(){var e=["danger","warning","info","success"],t=[];this.addMessage=function(e,n){function i(e,i){t.push({context:n||"info",text:_.trim(_.capitalize(e)+" "+i)}),t.length>=10&&(t=_.last(t,10))}function s(e){_.each(e,function(e,t,n){if(e instanceof Array)_.each(e,function(e){i(t,e)});else{var s="string"==typeof t?t:null;i(s,e)}})}"string"==typeof e?i(null,e):s(e)},this.getMessages=function(){return t},this.removeFirstMessage=function(){t=_.rest(t)},this.removeMessage=function(e){t=_.without(t,e)},this.removeAllMessages=function(){t=[]},_.reduce(e,function(e,t){return e[t]=function(e){this.addMessage(e,t)},e},this,this)}return new e}).directive("angularNotifications",["notificationsService","$interval","$templateCache",function(e,t,n){function i(n,i,s){function a(){return t(function(){e.removeFirstMessage()},r)}function o(){angular.isDefined(c)&&(t.cancel(c),c=void 0)}var c,r=5e3;n.$watch(e.getMessages,function(e,t){n.messages=e,e.length>t.length?(o(),c=a()):0===e.length&&o()},!0),n.removeNotificationMessage=function(t){e.removeMessage(t)},n.$on("$destroy",function(){o()})}return{restrict:"EA",link:i,template:n.get("notifications.html"),scope:{}}}]),angular.module("angular-notifications").run(["$templateCache",function(e){e.put("notifications.html",'<div class="alert alert-{{ message.context }} alert-dismissible fade in animate-hide" message="message" ng-repeat="message in messages.slice().reverse()"><button type="button" class="close" ng-click="removeNotificationMessage(message)"><span aria-hidden="true">&times;</span> <span class="sr-only">Close</span></button> {{ message.text }}</div>')}]);